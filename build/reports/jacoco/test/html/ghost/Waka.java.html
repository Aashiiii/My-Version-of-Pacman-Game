<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Waka.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">waka</a> &gt; <a href="index.source.html" class="el_package">ghost</a> &gt; <span class="el_source">Waka.java</span></div><h1>Waka.java</h1><pre class="source lang-java linenums">package ghost;

import processing.core.PApplet;
import processing.core.PImage;
import processing.core.PFont;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import java.io.*;
import java.text.ParseException;
import java.util.*;
import java.lang.Math;

/**
 *  Represents waka object in game.
 */

public class Waka {

// Variable to store the starting x-axis position of waka.
private long startx;

// Variable to store the starting y-axis position of waka.
private long starty;

// Variable to store the x-axis position of waka.
private long xpos;

// Variable to store the y-axix position of waka.
private long ypos;

// Variable to store the number of lives that waka has.
private long lives;

// Variable to store the speed of waka.
private long speed;

// Variable to store whether the waka is alive or not.
private boolean alive;

// Variable to store whether the waka is moving or not.
private boolean isMoving;

// Variable to store whether waka should have a closed mouth or not.
private boolean closedOrNot;

// Variable to store the PImage of waka with closed mouth.
private PImage playerClosed;

// Variable to store the PImage of waka when facing downwards.
private PImage playerDown;

// Variable to store the PImage of waka when facing left.
private PImage playerLeft;

// Variable to store the PImage of waka when facing right.
private PImage playerRight;

// Variable to store the PImage of waka when facing upwards.
private PImage playerUp;

// Variable to store the PImage of waka that needs to be drawn on the screen.
private PImage spirit;

// Variable to store the name of the map text file.
private String mapfile;

// Variable to store the direction in which the waka is moving.
private String movingDirection;

// Variable to store the x-axis position, followed by y-axis position of down left 
// grid blocks.
private ArrayList&lt;Integer&gt; downL;

// Variable to store the x-axis position, followed by y-axis position of down right 
// grid blocks.
private ArrayList&lt;Integer&gt; downR;

// Variable to store the x-axis position, followed by y-axis position of up left 
// grid blocks.
private ArrayList&lt;Integer&gt; upL;

// Variable to store the x-axis position, followed by y-axis position of up right 
// grid blocks.
private ArrayList&lt;Integer&gt; upR;

// Variable to store the x-axis position, followed by y-axis position of horizontal 
// grid blocks.
private ArrayList&lt;Integer&gt; hor;

// Variable to store the x-axis position, followed by y-axis position of vertical 
// grid blocks.
private ArrayList&lt;Integer&gt; ver;

// Variable to store the list of moves made by waka.
private ArrayList&lt;Integer&gt; moves;

// Variable to store the x-axis position, followed by y-axis position of fruits on map.
private ArrayList&lt;Integer&gt; fruitsList;

// Variable to store the x-axis position, followed by y-axis position of super fruits on map.
private ArrayList&lt;Integer&gt; superFruitsList;

// Variable of type Fruit.
private Fruit fruits;

// Variable of type Config.
private Config config;

/**
 *  Constructs a new Waka object.
 * 
 * @param playerClosed PImage of waka with closed mouth.
 * @param playerDown PImage of waka facing downwards.
 * @param playerLeft PImage of waka facing towards the left.
 * @param playerRight PImage of waka facing towards the right.
 * @param playerUp PImage of waka facing upwards.
 * @param fruits Object of type Fruit.
 * @param config Object of type Config.
 * 
 */

// Constructor.
public Waka (PImage playerClosed, PImage playerDown, PImage playerLeft,  PImage playerRight, 
<span class="fc" id="L124">                        PImage playerUp, Fruit fruits, Config config ) {</span>
        
<span class="fc" id="L126">        this.playerClosed = playerClosed;</span>
<span class="fc" id="L127">        this.playerDown = playerDown;</span>
<span class="fc" id="L128">        this.playerLeft = playerLeft;</span>
<span class="fc" id="L129">        this.playerRight = playerRight;</span>
<span class="fc" id="L130">        this.playerUp = playerUp;</span>
<span class="fc" id="L131">        this.spirit = playerClosed;</span>

<span class="fc" id="L133">        this.alive = true;</span>
<span class="fc" id="L134">        this.isMoving = false;</span>
<span class="fc" id="L135">        this.fruits = fruits;</span>
<span class="fc" id="L136">        this.fruitsList = this.fruits.getFruits ();</span>
<span class="fc" id="L137">        this.superFruitsList = this.fruits.getSuperFruits ();</span>
<span class="fc" id="L138">        this.movingDirection = &quot;start&quot;;</span>

<span class="fc" id="L140">        this.config = config;</span>
<span class="fc" id="L141">        this.lives = config.getLives ();</span>
<span class="fc" id="L142">        this.speed = config.getSpeed ();</span>

<span class="fc" id="L144">        this.hor = config.getHor ();</span>
<span class="fc" id="L145">        this.ver = config.getVer ();</span>
<span class="fc" id="L146">        this.downL = config.getDownL ();</span>
<span class="fc" id="L147">        this.downR = config.getDownR ();</span>
<span class="fc" id="L148">        this.upL = config.getUpL ();</span>
<span class="fc" id="L149">        this.upR = config.getUpR ();</span>

<span class="fc" id="L151">        this.moves = new ArrayList&lt;Integer&gt; ();</span>

<span class="fc" id="L153">        this.startx = config.getWakaStartX ();</span>
<span class="fc" id="L154">        this.starty = config.getWakaStartY ();</span>

<span class="fc" id="L156">        this.xpos = startx;</span>
<span class="fc" id="L157">        this.ypos = starty;</span>

<span class="fc" id="L159">        this.closedOrNot = false;</span>
<span class="fc" id="L160">}</span>

/**
 *  Returns the current x-axis position of waka.
 *  @return x-axis position of waka.
 */

// Getter method.
public long getX () {
<span class="fc" id="L169">        return startx;</span>
}

/**
 *  Returns the current y-axis position of waka.
 *  @return y-axis position of waka.
 */

// Getter method.
public long getY () {
<span class="fc" id="L179">        return starty;</span>
}

/**
 *  Returns the direction in which the waka is moving.
 *  @return Direction of waka.
 */

// Getter method.
public String getMovingDirection () {
<span class="fc" id="L189">        return movingDirection;</span>
}

/**
 *  Method to move the waka based on the keycode of the key pressed by the player.
 * 
 *  @param code Keycode
 *  @param frameCount Frame count
 */

public void move (int code, int frameCount) {

        // We add keycode of a move only once before it changes.
<span class="fc bfc" id="L202" title="All 2 branches covered.">        if (moves.size () != 0) {</span>
<span class="fc bfc" id="L203" title="All 2 branches covered.">                if ( (int) moves.get (moves.size () - 1) != code) {</span>
<span class="fc" id="L204">                        moves.add ( (Integer) code);</span>
                }
        } else {
<span class="fc" id="L207">                moves.add ( (Integer) code);</span>
        }

        // The current keycode is the last code in the list of moves.
<span class="fc" id="L211">        int keyCode = (int) moves.get (moves.size () - 1);</span>

        // This function moves the waka in the particular direction, and checkes if it 
        // is colliding with some fruit, or superfruit, or not.
<span class="fc" id="L215">        boolean result = direction (keyCode);</span>

        // Result stores false if the waka is colliding when trying to move in the 
        // direction specified by the key pressed by user.
<span class="fc bfc" id="L219" title="All 4 branches covered.">        if (result == false &amp;&amp; moves.size () &gt; 2) {</span>

                // In the case when waka is colliding, waka moves in the direction of 
                // the previous keycode, instead of stopping.
<span class="fc" id="L223">                keyCode = (int) moves.get (moves.size () - 2);</span>

                // Moving waka in the direction of previous keycode.
<span class="fc" id="L226">                Boolean res = direction (keyCode);</span>

                // If waka is colliding for the previous keycode also, then we remove 
                // that keycode from the list.
                // Waka tries to move using the previous keycodes if possible, 
                // otherwise stops.
<span class="fc bfc" id="L232" title="All 2 branches covered.">                if (res == false) {</span>

<span class="fc" id="L234">                        moves.remove (moves.size () - 2);</span>

                }

<span class="fc bfc" id="L238" title="All 4 branches covered.">        } else if (result == true &amp;&amp; moves.size () &gt; 2) {</span>

                // If the previous move was possible then we remove moves from the moves 
                // list accordingly.
<span class="fc" id="L242">                moves.remove (moves.remove (moves.size () - 2) );</span>
        }

        // Waka changes from open to colsed to open every 8 frames.
        // Calculating based on the frame count, that when waka needs to change from 
        // open to close and then back to open.
<span class="fc bfc" id="L248" title="All 2 branches covered.">        if ( frameCount % 8 == 0) {</span>

<span class="fc bfc" id="L250" title="All 2 branches covered.">                if ( ( frameCount / 8 ) % 2 == 0 ){</span>

<span class="fc" id="L252">                        closedOrNot = false;</span>

                } else {

<span class="fc" id="L256">                        closedOrNot = true;</span>

                }
        }

        // If the condition is true, then it calls the close function to change the 
        // waka image to closed.
<span class="fc bfc" id="L263" title="All 2 branches covered.">        if (closedOrNot == true){</span>

<span class="fc" id="L265">                close();</span>
        
        }

<span class="fc" id="L269">}</span>

/**
 * This function checks and returns whether waka can move in the direction specified 
 * by keycode or not. It also checks if waka is eating any fruit, or superfruit when 
 * moving in that direction or not.
 * It returns true if waka can move in that direction, else it returns false.
 * 
 * @param keyCode Key code of the key pressed.
 * 
 * @return Outcome of trying to move waka in that direction.
 */

public boolean direction (int keyCode) {

        boolean result;
<span class="fc bfc" id="L285" title="All 2 branches covered.">        if (keyCode == 37) {</span>
<span class="fc" id="L286">                result = moveLeft ();</span>
<span class="fc" id="L287">                isCollidingFruitsLeft (fruitsList, &quot;simple&quot;);</span>
<span class="fc" id="L288">                isCollidingFruitsLeft (superFruitsList, &quot;super&quot;);</span>

<span class="fc bfc" id="L290" title="All 2 branches covered.">        } else if (keyCode == 38) {</span>
<span class="fc" id="L291">                result = moveUp ();</span>
<span class="fc" id="L292">                isCollidingFruitsUp (fruitsList, &quot;simple&quot;);</span>
<span class="fc" id="L293">                isCollidingFruitsUp (superFruitsList, &quot;super&quot;);</span>

<span class="fc bfc" id="L295" title="All 2 branches covered.">        } else if (keyCode == 39) {</span>
<span class="fc" id="L296">                result = moveRight ();</span>
<span class="fc" id="L297">                isCollidingFruitsRight (fruitsList, &quot;simple&quot;);</span>
<span class="fc" id="L298">                isCollidingFruitsRight (superFruitsList, &quot;super&quot;);</span>

<span class="fc bfc" id="L300" title="All 2 branches covered.">        } else if (keyCode == 40) {</span>
<span class="fc" id="L301">                result = moveDown ();</span>
<span class="fc" id="L302">                isCollidingFruitsDown (fruitsList, &quot;simple&quot;);</span>
<span class="fc" id="L303">                isCollidingFruitsDown (superFruitsList, &quot;super&quot;);</span>

        } else {
<span class="fc" id="L306">                result = false;</span>
        }

<span class="fc" id="L309">        return result;</span>
}


/**
 *  This function tries to move waka upwards. It returns false if waka collided with 
 *  wall when doing so, else it returns true. 
 *  
 *  @return Whether waka can move upwards or not.
 */


public boolean moveUp () {

<span class="fc" id="L323">        this.starty -= this.speed;</span>

<span class="fc bfc" id="L325" title="All 2 branches covered.">        if (isCollidingUp () == true) {</span>
<span class="fc" id="L326">                this.starty += this.speed;</span>
<span class="fc" id="L327">                return false;</span>
        } else {
<span class="fc" id="L329">                this.movingDirection = &quot;up&quot;;</span>
<span class="fc" id="L330">                this.spirit = this.playerUp;</span>
        }

<span class="fc" id="L333">        return true;</span>
}

/**
 *  This function tries to move waka downwards. It returns false if waka collided with 
 *  wall when doing so, else it returns true. 
 *  
 *  @return Whether waka can move downwards or not.
 */

public boolean moveDown () {

<span class="fc" id="L345">        this.starty += this.speed;</span>

<span class="fc bfc" id="L347" title="All 2 branches covered.">        if (isCollidingDown () == true) {</span>
<span class="fc" id="L348">                this.starty -= this.speed;</span>
<span class="fc" id="L349">                return false;</span>
        } else {
<span class="fc" id="L351">                this.movingDirection = &quot;down&quot;;</span>
<span class="fc" id="L352">                this.spirit = this.playerDown;</span>
        }

<span class="fc" id="L355">        return true;</span>
}

/**
 *  This function tries to move waka towards right. It returns false if waka collided 
 *  with wall when doing so, else it returns true. 
 *  
 *  @return Whether waka can move right or not.
 */

public boolean moveRight () {

<span class="fc" id="L367">        this.startx += this.speed;</span>

<span class="fc bfc" id="L369" title="All 2 branches covered.">        if (isCollidingRight () == true) {</span>
<span class="fc" id="L370">                this.startx -= this.speed;</span>
<span class="fc" id="L371">                return false;</span>
        } else {
<span class="fc" id="L373">                this.spirit = this.playerRight;</span>
<span class="fc" id="L374">                this.movingDirection = &quot;right&quot;;</span>
<span class="fc" id="L375">                return true;</span>
        }
}


/**
 *  This function tries to move waka towards left. It returns false if waka collided 
 *  with wall when doing so, else it returns true. 
 *  
 *  @return Whether waka can move left or not.
 */

public boolean moveLeft () {

<span class="fc" id="L389">        this.startx -= this.speed;</span>

<span class="fc bfc" id="L391" title="All 2 branches covered.">        if (isCollidingLeft () == true) {</span>
<span class="fc" id="L392">                this.startx += this.speed;</span>
<span class="fc" id="L393">                return false;</span>
        } else {
<span class="fc" id="L395">                this.movingDirection = &quot;left&quot;;</span>
<span class="fc" id="L396">                this.spirit = this.playerLeft;</span>
        }

<span class="fc" id="L399">        return true;</span>
}

/**
 *  This function is called when waka dies. It resets the position, number of lives, 
 *  and the initial starting PImage of waka.
 */

public void die () {

        // Number of lives of waka decreases.
<span class="fc" id="L410">        this.lives -= 1;</span>

        // The starting position of waka is reset.
<span class="fc" id="L413">        this.startx = xpos;</span>
<span class="fc" id="L414">        this.starty = ypos;</span>

        // Waka always starts with closed mouth.
<span class="fc" id="L417">        this.spirit = playerClosed;</span>
<span class="fc" id="L418">}</span>

/**
 *  Checking if waka is alive or not. Waka is alive if it has lives left. It returns 
 *  true if waka has lives left, else it returns false.
 * 
 *  @return Whether waka is alive or not.
 */

public boolean isAlive () {

<span class="fc bfc" id="L429" title="All 2 branches covered.">        if (this.lives == 0) {</span>
<span class="fc" id="L430">                return false;</span>
        } else {
<span class="fc" id="L432">                return true;</span>
        }

}


/**
 *  Checking for different top, bottom, left, and right values of waka, and wall that 
 *  they are colliding or not when waka is trying to move upwards.
 *  It returns true if the waka collides with wall, when it tries to move upwards, 
 *  else it returns false.
 * 
 * 
 *  @param wallTop       Coordinates of the top of wall grid.
 *  @param wallBottom    Coordinates of the bottom of wall grid.
 *  @param wallLeft      Coordinates of the left side of wall grid.
 *  @param wallRight     Coordinates of the right of wall grid.
 *  @param wakaTop      Coordinates of the top of waka.
 *  @param wakaBottom   Coordinates of the bottom of waka.
 *  @param wakaLeft     Coordinates of the left side of waka.
 *  @param wakaRight    Coordinates of the right side of waka.
 * 
 *  @return              Outcome of waka trying to move upwards.
 */


public boolean collisonUp (long wallTop, long wallBottom, long wallLeft, long wallRight, 
                                long wakaTop, long wakaBottom, long wakaLeft, long wakaRight) {
        
<span class="fc bfc" id="L461" title="All 8 branches covered.">        if (wakaTop &lt; wallBottom &amp;&amp; wakaTop &gt; wallTop &amp;&amp; wakaRight &lt; wallRight </span>
                        &amp;&amp; wakaRight &gt; wallLeft) {
                
<span class="fc" id="L464">                                return true;</span>
        }

<span class="fc bfc" id="L467" title="All 8 branches covered.">        if (wakaTop &lt; wallBottom &amp;&amp; wakaTop &gt; wallTop &amp;&amp; wakaLeft &lt; wallRight </span>
                        &amp;&amp; wakaLeft &gt; wallLeft) {
                
<span class="fc" id="L470">                                return true;</span>
        }

<span class="fc bfc" id="L473" title="All 8 branches covered.">        if (wakaTop &lt; wallBottom &amp;&amp; wakaTop &gt; wallTop &amp;&amp; wallRight &lt; wakaRight </span>
                        &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="fc" id="L476">                                return true;</span>
        }

<span class="pc bpc" id="L479" title="1 of 8 branches missed.">        if (wallTop &gt; wakaTop &amp;&amp; wallTop &lt; wakaBottom &amp;&amp; wakaRight &lt; wallRight </span>
                        &amp;&amp; wakaRight &gt; wallLeft) {
                
<span class="nc" id="L482">                                return true;</span>
        }

<span class="pc bpc" id="L485" title="1 of 8 branches missed.">        if (wallTop &gt; wakaTop &amp;&amp; wallTop &lt; wakaBottom &amp;&amp; wakaLeft &lt; wallRight </span>
                        &amp;&amp; wakaLeft &gt; wallLeft) {
                
<span class="nc" id="L488">                                return true;</span>
        }

<span class="pc bpc" id="L491" title="1 of 8 branches missed.">        if (wallTop &gt; wakaTop &amp;&amp; wallTop &lt; wakaBottom &amp;&amp; wallRight &lt; wakaRight </span>
                        &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="nc" id="L494">                                return true;</span>
        }

<span class="fc" id="L497">        return false;</span>
}


/**
 *  Checking for different top, bottom, left, and right values of waka, and wall 
 *  that they are colliding or not when waka is trying to move downwards.
 *  It returns true if the waka collides with wall, when it tries to move downwards, 
 *  else it returns false.
 * 
 * 
 *  @param wallTop       Coordinates of the top of wall grid.
 *  @param wallBottom    Coordinates of the bottom of wall grid.
 *  @param wallLeft      Coordinates of the left side of wall grid.
 *  @param wallRight     Coordinates of the right of wall grid.
 *  @param wakaTop      Coordinates of the top of waka.
 *  @param wakaBottom   Coordinates of the bottom of waka.
 *  @param wakaLeft     Coordinates of the left side of waka.
 *  @param wakaRight    Coordinates of the right side of waka.
 * 
 *  @return              Outcome of waka trying to move downwards.
 */

public boolean collisonDown (long wallTop, long wallBottom, long wallLeft, long wallRight, 
                                long wakaTop, long wakaBottom, long wakaLeft, long wakaRight) {

<span class="pc bpc" id="L523" title="1 of 8 branches missed.">        if (wallTop &gt; wakaTop &amp;&amp; wallTop &lt; wakaBottom &amp;&amp; wakaRight &lt; wallRight </span>
                        &amp;&amp; wakaRight &gt; wallLeft) {
                
<span class="nc" id="L526">                                return true;</span>
        }

<span class="fc bfc" id="L529" title="All 8 branches covered.">        if (wallTop &gt; wakaTop &amp;&amp; wallTop &lt; wakaBottom &amp;&amp; wakaLeft &lt; wallRight </span>
                        &amp;&amp; wakaLeft &gt; wallLeft) {
                
<span class="fc" id="L532">                                return true;</span>
        }

<span class="fc bfc" id="L535" title="All 8 branches covered.">        if (wallTop &gt; wakaTop &amp;&amp; wallTop &lt; wakaBottom &amp;&amp; wallRight &lt; wakaRight </span>
                        &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="fc" id="L538">                                return true;</span>
        }

<span class="pc bpc" id="L541" title="1 of 8 branches missed.">        if (wakaBottom &lt; wallBottom &amp;&amp; wakaBottom &gt; wallTop &amp;&amp; wakaRight &lt; wallRight </span>
                        &amp;&amp; wakaRight &gt; wallLeft) {
                
<span class="nc" id="L544">                                return true;</span>
        }

<span class="pc bpc" id="L547" title="1 of 8 branches missed.">        if (wakaBottom &lt; wallBottom &amp;&amp; wakaBottom &gt; wallTop &amp;&amp; wakaLeft &lt; wallRight </span>
                        &amp;&amp; wakaLeft &gt; wallLeft) {
                
<span class="nc" id="L550">                                return true;</span>
        }

<span class="fc" id="L553">        return false;</span>
}


/**
 *  Checking for different top, bottom, left, and right values of waka, and wall that 
 *  they are colliding or not when waka is trying to move towards right.
 *  It returns true if the waka collides with wall, when it tries to move right, 
 *  else it returns false.
 * 
 * 
 *  @param wallTop       Coordinates of the top of wall grid.
 *  @param wallBottom    Coordinates of the bottom of wall grid.
 *  @param wallLeft      Coordinates of the left side of wall grid.
 *  @param wallRight     Coordinates of the right of wall grid.
 *  @param wakaTop      Coordinates of the top of waka.
 *  @param wakaBottom   Coordinates of the bottom of waka.
 *  @param wakaLeft     Coordinates of the left side of waka.
 *  @param wakaRight    Coordinates of the right side of waka.
 * 
 *  @return              Outcome of waka trying to move right.
 */

public boolean collisonRight (long wallTop, long wallBottom, long wallLeft, long wallRight, 
                                long wakaTop, long wakaBottom, long wakaLeft, long wakaRight) {

<span class="fc bfc" id="L579" title="All 8 branches covered.">        if (wakaTop &gt; wallTop &amp;&amp; wakaTop &lt; wallBottom &amp;&amp; wakaRight &lt; wallRight </span>
                &amp;&amp; wakaRight &gt; wallLeft) {
                
<span class="fc" id="L582">                        return true;</span>
        }

<span class="fc bfc" id="L585" title="All 8 branches covered.">        if (wakaBottom &gt; wallTop &amp;&amp; wakaBottom &lt; wallBottom &amp;&amp; wakaRight &lt; wallRight </span>
                &amp;&amp; wakaRight &gt; wallLeft) {
                
<span class="fc" id="L588">                        return true;</span>
        }

<span class="pc bpc" id="L591" title="1 of 8 branches missed.">        if (wakaTop &lt; wallTop &amp;&amp; wakaBottom &gt; wallTop &amp;&amp; wakaRight &gt; wallRight </span>
                &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="nc" id="L594">                        return true;</span>
        }

<span class="pc bpc" id="L597" title="1 of 8 branches missed.">        if (wakaBottom &gt; wallTop &amp;&amp; wakaBottom &lt; wallBottom &amp;&amp; wallRight &lt; wakaRight </span>
                &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="nc" id="L600">                        return true;</span>
        }

<span class="pc bpc" id="L603" title="1 of 8 branches missed.">        if (wakaTop &gt; wallTop &amp;&amp; wakaTop &lt; wallBottom &amp;&amp; wallLeft &lt; wakaRight </span>
                &amp;&amp; wallLeft &gt; wakaLeft) {
                
<span class="nc" id="L606">                        return true;</span>
        }

<span class="fc" id="L609">        return false;</span>
}


/**
 *  Checking for different top, bottom, left, and right values of waka, and wall 
 *  that they are colliding or not when waka is trying to move towards left.
 *  It returns true if the waka collides with wall, when it tries to move left, 
 *  else it returns false.
 * 
 * 
 *  @param wallTop       Coordinates of the top of wall grid.
 *  @param wallBottom    Coordinates of the bottom of wall grid.
 *  @param wallLeft      Coordinates of the left side of wall grid.
 *  @param wallRight     Coordinates of the right of wall grid.
 *  @param wakaTop      Coordinates of the top of waka.
 *  @param wakaBottom   Coordinates of the bottom of waka.
 *  @param wakaLeft     Coordinates of the left side of waka.
 *  @param wakaRight    Coordinates of the right side of waka.
 * 
 *  @return              Outcome of waka trying to move left.
 */

public boolean collisonLeft1 (long wallTop, long wallBottom, long wallLeft, 
                                        long wallRight, long wakaTop, long wakaBottom, 
                             long wakaLeft, long wakaRight) {

<span class="fc bfc" id="L636" title="All 8 branches covered.">        if (wakaTop &lt; wallTop &amp;&amp; wakaBottom &gt; wallTop &amp;&amp; wakaRight &gt; wallRight </span>
                &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="fc" id="L639">                        return true;</span>
        }

<span class="pc bpc" id="L642" title="1 of 8 branches missed.">        if (wakaBottom &gt; wallTop &amp;&amp; wakaBottom &lt; wallBottom &amp;&amp; wallRight &lt; wakaRight </span>
                &amp;&amp; wallRight &gt; wakaLeft) {
                
<span class="nc" id="L645">                        return true;</span>
        }

<span class="pc bpc" id="L648" title="1 of 8 branches missed.">        if (wakaTop &gt; wallTop &amp;&amp; wakaTop &lt; wallBottom &amp;&amp; wallLeft &lt; wakaRight </span>
                &amp;&amp; wallLeft &gt; wakaLeft) {
                
<span class="nc" id="L651">                        return true;</span>
        }

<span class="fc" id="L654">        return false;</span>
}

/**
 *  Checking for different top, bottom, left, and right values of waka, and wall 
 *  that they are colliding or not when waka is trying to move towards left.
 *  It returns true if the waka collides with wall, when it tries to move left, 
 *  else it returns false.
 * 
 * 
 *  @param wallTop       Coordinates of the top of wall grid.
 *  @param wallBottom    Coordinates of the bottom of wall grid.
 *  @param wallLeft      Coordinates of the left side of wall grid.
 *  @param wallRight     Coordinates of the right of wall grid.
 *  @param wakaTop      Coordinates of the top of waka.
 *  @param wakaBottom   Coordinates of the bottom of waka.
 *  @param wakaLeft     Coordinates of the left side of waka.
 *  @param wakaRight    Coordinates of the right side of waka.
 * 
 *  @return              Outcome of waka trying to move left.
 */

public boolean collisonLeft2 (long wallTop, long wallBottom, long wallLeft, 
                                        long wallRight, long wakaTop, long wakaBottom, 
                             long wakaLeft, long wakaRight) {

<span class="pc bpc" id="L680" title="1 of 8 branches missed.">        if (wakaTop &gt; wallTop &amp;&amp; wakaTop &lt; wallBottom &amp;&amp; wakaLeft &lt; wallRight &amp;&amp; </span>
                wakaLeft &gt; wallLeft) {
                
<span class="nc" id="L683">                        return true;</span>
        }

<span class="pc bpc" id="L686" title="1 of 8 branches missed.">        if (wakaBottom &gt; wallTop &amp;&amp; wakaBottom &lt; wallBottom &amp;&amp; wakaLeft &lt; wallRight &amp;&amp; </span>
                wakaLeft &gt; wallLeft) {
                
<span class="nc" id="L689">                        return true;</span>
        }

<span class="fc" id="L692">        return false;</span>
}

/**
 * This method calculates the top, bottom, left, and right position of wall, and 
 * waka, and checks if it is colliding when waka tries to move upwards or not.
 * It returns true if the waka is able to move upwards without colliding, else it 
 * returns false.
 * 
 * @return  Whether waka can move upwards or not.
 */


public boolean isCollidingUp () {

        // Checking if waka is colliding with a horizontal grid space when trying 
        // to move upwards or not.
<span class="fc bfc" id="L709" title="All 2 branches covered.">        for (int i = 0; i &lt; hor.size () - 1; i += 2) {</span>

<span class="fc" id="L711">                long wallTop = hor.get (i + 1);</span>
<span class="fc" id="L712">                long wallBottom = hor.get (i + 1) + 8;</span>
<span class="fc" id="L713">                long wallLeft = hor.get (i);</span>
<span class="fc" id="L714">                long wallRight = hor.get (i) + 16;</span>

<span class="fc" id="L716">                long wakaTop = this.starty;</span>
<span class="fc" id="L717">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L719">                long wakaLeft = this.startx +2;</span>
<span class="fc" id="L720">                long wakaRight = this.startx + this.spirit.width -2;</span>

<span class="fc bfc" id="L722" title="All 2 branches covered.">                if (collisonUp (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L725">                                                return true;</span>
                }

        }

        // Checking if waka is colliding with an up right grid space when trying to 
        // move upwards or not.
<span class="fc bfc" id="L732" title="All 2 branches covered.">        for (int i = 0; i &lt; upR.size () - 1; i += 2) {</span>

<span class="fc" id="L734">                long wallTop = upR.get (i + 1);</span>
<span class="fc" id="L735">                long wallBottom = upR.get (i + 1) + 8;</span>
<span class="fc" id="L736">                long wallLeft = upR.get (i) + 8;</span>
<span class="fc" id="L737">                long wallRight = upR.get (i) + 16;</span>

<span class="fc" id="L739">                long wakaTop = this.starty;</span>
<span class="fc" id="L740">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L742">                long wakaLeft = this.startx +2;</span>
<span class="fc" id="L743">                long wakaRight = this.startx + this.spirit.width -2;</span>

<span class="fc bfc" id="L745" title="All 2 branches covered.">                if (collisonUp (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L748">                                                return true;</span>
                }
        }

        // Checking if waka is colliding with an up left grid space when trying to 
        // move upwards or not.
<span class="fc bfc" id="L754" title="All 2 branches covered.">        for (int i = 0; i &lt; upL.size () - 1; i += 2) {</span>

<span class="fc" id="L756">                long wallTop = upL.get (i + 1);</span>
<span class="fc" id="L757">                long wallBottom = upL.get (i + 1) + 8;</span>
<span class="fc" id="L758">                long wallLeft = upL.get (i);</span>
<span class="fc" id="L759">                long wallRight = upL.get (i) + 8;</span>

<span class="fc" id="L761">                long wakaTop = this.starty;</span>
<span class="fc" id="L762">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L764">                long wakaLeft = this.startx +2;</span>
<span class="fc" id="L765">                long wakaRight = this.startx + this.spirit.width -2;</span>

<span class="fc bfc" id="L767" title="All 2 branches covered.">                if (collisonUp (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L770">                                                return true;</span>
                }
        }

<span class="fc" id="L774">        return false;</span>

}


/**
 * This method calculates the top, bottom, left, and right position of wall, and 
 * waka, and checks if it is colliding when waka tries to move downwards or not.
 * It returns true if the waka is able to move downwards without colliding, else 
 * it returns false.
 * 
 * @return  Whether waka can move downwards or not.
 */

public boolean isCollidingDown () {


        // Checking if waka is colliding with a horizontal grid space when trying to 
        // move downwards or not.
<span class="fc bfc" id="L793" title="All 2 branches covered.">        for (int i = 0; i &lt; hor.size () - 1; i += 2) {</span>

<span class="fc" id="L795">                long wallTop = hor.get (i + 1);</span>
<span class="fc" id="L796">                long wallBottom = hor.get (i + 1) + 8;</span>
<span class="fc" id="L797">                long wallLeft = hor.get (i);</span>
<span class="fc" id="L798">                long wallRight = hor.get (i) + 16;</span>

<span class="fc" id="L800">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L801">                long wakaBottom = this.starty + this.spirit.height - 3 -1;</span>

<span class="fc" id="L803">                long wakaLeft = this.startx + 2 -1;</span>
<span class="fc" id="L804">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="fc bfc" id="L806" title="All 2 branches covered.">                if (collisonDown (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L809">                                                return true;</span>
                }
        }

        // Checking if waka is colliding with a down right grid space when trying to 
        // move downwards or not.
<span class="fc bfc" id="L815" title="All 2 branches covered.">        for (int i = 0; i &lt; downR.size () - 1; i += 2) {</span>

<span class="fc" id="L817">                long wallTop = downR.get (i + 1) + 8;</span>
<span class="fc" id="L818">                long wallBottom = downR.get (i + 1) + 16;</span>
<span class="fc" id="L819">                long wallLeft = downR.get (i) + 8;</span>
<span class="fc" id="L820">                long wallRight = downR.get (i) + 16;</span>

<span class="fc" id="L822">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L823">                long wakaBottom = this.starty + this.spirit.height - 4;</span>

<span class="fc" id="L825">                long wakaLeft = this.startx + 1;</span>
<span class="fc" id="L826">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="pc bpc" id="L828" title="1 of 2 branches missed.">                if (collisonDown (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L831">                                                return true;</span>
                }
        }

        // Checking if waka is colliding with a down left grid space when trying to 
        // move downwards or not.
<span class="fc bfc" id="L837" title="All 2 branches covered.">        for (int i = 0; i &lt; downL.size () - 1; i += 2) {</span>

<span class="fc" id="L839">                long wallTop = downL.get (i + 1) + 8;</span>
<span class="fc" id="L840">                long wallBottom = downL.get (i + 1) + 16;</span>
<span class="fc" id="L841">                long wallLeft = downL.get (i) - 1;</span>
<span class="fc" id="L842">                long wallRight = downL.get (i) + 8;</span>

<span class="fc" id="L844">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L845">                long wakaBottom = this.starty + this.spirit.height - 3 -1;</span>

<span class="fc" id="L847">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L848">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="fc bfc" id="L850" title="All 2 branches covered.">                if (collisonDown (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L853">                                                return true;</span>
                }
        }
        
<span class="fc" id="L857">        return false;</span>
}


/**
 * This method calculates the top, bottom, left, and right position of wall, and 
 * waka, and checks if it is colliding when waka tries to move towards right or not.
 * It returns true if the waka is able to move towards right without colliding, else 
 * it returns false.
 * 
 * @return  Whether waka can move right or not.
 */

public boolean isCollidingRight () {

        // Checking if waka is colliding with a vertical grid space when trying to 
        // move right or not.
<span class="fc bfc" id="L874" title="All 2 branches covered.">        for (int i = 0; i &lt; ver.size () - 1; i += 2) {</span>

<span class="fc" id="L876">                long wallTop = ver.get (i + 1);</span>
<span class="fc" id="L877">                long wallBottom = ver.get (i + 1) + 16;</span>
<span class="fc" id="L878">                long wallLeft = ver.get (i) + 8;</span>
<span class="fc" id="L879">                long wallRight = ver.get (i) + 16;</span>

<span class="fc" id="L881">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L882">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L884">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L885">                long wakaRight = this.startx + this.spirit.width;</span>

<span class="fc bfc" id="L887" title="All 2 branches covered.">                if (collisonRight (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L890">                                                return true;</span>
                }


        }

        // Checking if waka is colliding with a down left grid space when trying to
        // move right or not.
<span class="fc bfc" id="L898" title="All 2 branches covered.">        for (int i = 0; i &lt; downL.size () - 1; i += 2) {</span>

<span class="fc" id="L900">                long wallTop = downL.get (i + 1) + 8;</span>
<span class="fc" id="L901">                long wallBottom = downL.get (i + 1) + 16;</span>
<span class="fc" id="L902">                long wallLeft = downL.get (i) + 8;</span>
<span class="fc" id="L903">                long wallRight = downL.get (i) + 16;</span>

<span class="fc" id="L905">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L906">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L908">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L909">                long wakaRight = this.startx + this.spirit.width;</span>


<span class="fc bfc" id="L912" title="All 2 branches covered.">                if (collisonRight (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L915">                                                return true;</span>
                }
        }

        // Checking if waka is colliding with a down right grid space when trying to 
        // move right or not.
<span class="fc bfc" id="L921" title="All 2 branches covered.">        for (int i = 0; i &lt; downR.size () - 1; i += 2) {</span>

<span class="fc" id="L923">                long wallTop = downR.get (i + 1) + 8;</span>
<span class="fc" id="L924">                long wallBottom = downR.get (i + 1) + 16;</span>
<span class="fc" id="L925">                long wallLeft = downR.get (i) + 8;</span>
<span class="fc" id="L926">                long wallRight = downR.get (i) + 16;</span>

<span class="fc" id="L928">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L929">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L931">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L932">                long wakaRight = this.startx + this.spirit.width;</span>


<span class="fc bfc" id="L935" title="All 2 branches covered.">                if (collisonRight (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L938">                                        return true;</span>
                }
        }

        // Checking if waka is colliding with an up left grid space when trying to 
        // move right or not.
<span class="fc bfc" id="L944" title="All 2 branches covered.">        for (int i = 0; i &lt; upL.size () - 1; i += 2) {</span>

<span class="fc" id="L946">                long wallTop = upL.get (i + 1);</span>
<span class="fc" id="L947">                long wallBottom = upL.get (i + 1) + 8;</span>
<span class="fc" id="L948">                long wallLeft = upL.get (i) + 8;</span>
<span class="fc" id="L949">                long wallRight = upL.get (i) + 16;</span>

<span class="fc" id="L951">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L952">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L954">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L955">                long wakaRight = this.startx + this.spirit.width;</span>

<span class="pc bpc" id="L957" title="1 of 2 branches missed.">                if (collisonRight (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L960">                                        return true;</span>
                }
        }

        // Checking if waka is colliding with an up right grid space when trying to 
        // move right or not.
<span class="fc bfc" id="L966" title="All 2 branches covered.">        for (int i = 0; i &lt; upR.size () - 1; i += 2) {</span>

<span class="fc" id="L968">                long wallTop = upR.get (i + 1);</span>
<span class="fc" id="L969">                long wallBottom = upR.get (i + 1) + 8;</span>
<span class="fc" id="L970">                long wallLeft = upR.get (i) + 8;</span>
<span class="fc" id="L971">                long wallRight = upR.get (i) + 16;</span>

<span class="fc" id="L973">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L974">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L976">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L977">                long wakaRight = this.startx + this.spirit.width;</span>

<span class="fc bfc" id="L979" title="All 2 branches covered.">                if (collisonRight (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L982">                                                return true;</span>
                }
        }

<span class="fc" id="L986">        return false;</span>
}


/**
 * This method calculates the top, bottom, left, and right position of wall, and waka, 
 * and checks if it is colliding when waka tries to move towards left or not.
 * It returns true if the waka is able to move towards left without colliding, else 
 * it returns false.
 * 
 * @return  Whether waka can move left or not.
 */


public boolean isCollidingLeft () {

        // Checking if waka is colliding with a vertical grid space when trying to move
        // left or not.
<span class="fc bfc" id="L1004" title="All 2 branches covered.">        for (int i = 0; i &lt; ver.size () - 1; i += 2) {</span>

<span class="fc" id="L1006">                long wallTop = ver.get (i + 1);</span>
<span class="fc" id="L1007">                long wallBottom = ver.get (i + 1) + 16;</span>
<span class="fc" id="L1008">                long wallLeft = ver.get (i) + 8;</span>
<span class="fc" id="L1009">                long wallRight = ver.get (i) + 16;</span>

<span class="fc" id="L1011">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L1012">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L1014">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L1015">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="fc bfc" id="L1017" title="All 2 branches covered.">                if (collisonLeft1 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L1020">                                                return true;</span>
                }

<span class="fc" id="L1023">                wallLeft = ver.get (i);</span>
<span class="fc" id="L1024">                wallRight = ver.get (i) + 8;</span>

<span class="pc bpc" id="L1026" title="1 of 2 branches missed.">                if (collisonLeft2 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1029">                                                return true;</span>
                }

        }

        // Checking if waka is colliding with an up left grid space when trying to 
        // move left or not.
<span class="fc bfc" id="L1036" title="All 2 branches covered.">        for (int i = 0; i &lt; upL.size () - 1; i += 2) {</span>

<span class="fc" id="L1038">                long wallTop = upL.get (i + 1);</span>
<span class="fc" id="L1039">                long wallBottom = upL.get (i + 1) + 8;</span>
<span class="fc" id="L1040">                long wallLeft = upL.get (i) + 8;</span>
<span class="fc" id="L1041">                long wallRight = upL.get (i) + 16;</span>

<span class="fc" id="L1043">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L1044">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L1046">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L1047">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="fc bfc" id="L1049" title="All 2 branches covered.">                if (collisonLeft1 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L1052">                                                return true;</span>
                }

<span class="fc" id="L1055">                wallTop = upL.get (i + 1);</span>
<span class="fc" id="L1056">                wallBottom = upL.get (i + 1) + 8;</span>
<span class="fc" id="L1057">                wallLeft = upL.get (i);</span>
<span class="fc" id="L1058">                wallRight = upL.get (i) + 8;</span>

<span class="pc bpc" id="L1060" title="1 of 2 branches missed.">                if (collisonLeft2 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1063">                                                return true;</span>
                }
        }

        // Checking if waka is colliding with an up right grid space when trying to 
        // move left or not.
<span class="fc bfc" id="L1069" title="All 2 branches covered.">        for (int i = 0; i &lt; upR.size () - 1; i += 2) {</span>

<span class="fc" id="L1071">                long wallTop = upR.get (i + 1);</span>
<span class="fc" id="L1072">                long wallBottom = upR.get (i + 1) + 8;</span>
<span class="fc" id="L1073">                long wallLeft = upR.get (i) + 8;</span>
<span class="fc" id="L1074">                long wallRight = upR.get (i) + 16;</span>

<span class="fc" id="L1076">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L1077">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L1079">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L1080">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="pc bpc" id="L1082" title="1 of 2 branches missed.">                if (collisonLeft1 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1085">                                                return true;</span>
                }

<span class="fc" id="L1088">                wallTop = upR.get (i + 1);</span>
<span class="fc" id="L1089">                wallBottom = upR.get (i + 1) + 8;</span>
<span class="fc" id="L1090">                wallLeft = upR.get (i);</span>
<span class="fc" id="L1091">                wallRight = upR.get (i) + 8;</span>

<span class="pc bpc" id="L1093" title="1 of 2 branches missed.">                if (collisonLeft2 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1096">                                                return true;</span>
                }

        }

        // Checking if waka is colliding with a down left grid space when trying to 
        // move left or not.
<span class="fc bfc" id="L1103" title="All 2 branches covered.">        for (int i = 0; i &lt; downL.size () - 1; i += 2) {</span>

<span class="fc" id="L1105">                long wallTop = downL.get (i + 1) + 8;</span>
<span class="fc" id="L1106">                long wallBottom = downL.get (i + 1) + 16;</span>
<span class="fc" id="L1107">                long wallLeft = downL.get (i) + 8;</span>
<span class="fc" id="L1108">                long wallRight = downL.get (i) + 16;</span>

<span class="fc" id="L1110">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L1111">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L1113">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L1114">                long wakaRight = this.startx + this.spirit.width - 2;</span>


<span class="fc bfc" id="L1117" title="All 2 branches covered.">                if (collisonLeft1 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="fc" id="L1120">                                                return true;</span>
                }

<span class="fc" id="L1123">                wallTop = downL.get (i + 1) + 8;</span>
<span class="fc" id="L1124">                wallBottom = downL.get (i + 1) + 16;</span>
<span class="fc" id="L1125">                wallLeft = downL.get (i);</span>
<span class="fc" id="L1126">                wallRight = downL.get (i) + 8;</span>

<span class="pc bpc" id="L1128" title="1 of 2 branches missed.">                if (collisonLeft2 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1131">                                                return true;</span>
                }

        }

        // Checking if waka is colliding with a down right grid space when trying to 
        // move left or not.
<span class="fc bfc" id="L1138" title="All 2 branches covered.">        for (int i = 0; i &lt; downR.size () - 1; i += 2) {</span>

<span class="fc" id="L1140">                long wallTop = downR.get (i + 1) + 8;</span>
<span class="fc" id="L1141">                long wallBottom = downR.get (i + 1) + 16;</span>
<span class="fc" id="L1142">                long wallLeft = downR.get (i) + 8;</span>
<span class="fc" id="L1143">                long wallRight = downR.get (i) + 16;</span>

<span class="fc" id="L1145">                long wakaTop = this.starty + 3;</span>
<span class="fc" id="L1146">                long wakaBottom = this.starty + this.spirit.height - 3;</span>

<span class="fc" id="L1148">                long wakaLeft = this.startx + 2;</span>
<span class="fc" id="L1149">                long wakaRight = this.startx + this.spirit.width - 2;</span>

<span class="pc bpc" id="L1151" title="1 of 2 branches missed.">                if (collisonLeft1 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1154">                                                return true;</span>
                }

<span class="fc" id="L1157">                wallTop = downR.get (i + 1) + 8;</span>
<span class="fc" id="L1158">                wallBottom = downR.get (i + 1) + 16;</span>
<span class="fc" id="L1159">                wallLeft = downR.get (i);</span>
<span class="fc" id="L1160">                wallRight = downR.get (i) + 8;</span>

<span class="pc bpc" id="L1162" title="1 of 2 branches missed.">                if (collisonLeft2 (wallTop, wallBottom, wallLeft, wallRight, wakaTop, </span>
                                        wakaBottom, wakaLeft, wakaRight) == true) {
                        
<span class="nc" id="L1165">                                                return true;</span>
                }
        }

<span class="fc" id="L1169">        return false;</span>
}


/**
 *  This method calculates the centre coordinates of waka, and checks if it collides 
 *  with any fruit in the fruits, and super fruits list when waka is trying to move left. 
 *  It decides whether to remove from fruits list, or super fruits list based on the 
 *  type parameter. type parameter &quot;simple&quot; refers to simple fruits list, while 
 *  &quot;super&quot; refers to super fruits list.
 * 
 * @param fruitsListt    List of fruits, or superfruits with which colliding needs to be checked.
 * @param type     String telling the type of fruit.
 */

public void isCollidingFruitsLeft (ArrayList&lt;Integer&gt; fruitsListt, String type) {

<span class="fc bfc" id="L1186" title="All 2 branches covered.">        for (int i = 0; i &lt; fruitsListt.size () - 1; i += 2) {</span>

<span class="fc" id="L1188">                int fruitsx = fruitsListt.get (i) + 2;</span>
<span class="fc" id="L1189">                int fruitsy = fruitsListt.get (i + 1) + 2;</span>

<span class="fc" id="L1191">                long wakaTop = this.starty;</span>
<span class="fc" id="L1192">                long wakaBottom = this.starty + 16;</span>
<span class="fc" id="L1193">                long wakaLeft = this.startx;</span>
<span class="fc" id="L1194">                long wakaRight = this.startx + 16 - 7;</span>

<span class="fc" id="L1196">                long wakaCentrex = (wakaLeft + wakaRight) / 2;</span>
<span class="fc" id="L1197">                long wakaCentrey = (wakaTop + wakaBottom) / 2;</span>

<span class="fc" id="L1199">                long diffx = Math.abs (fruitsx - wakaCentrex);</span>
<span class="fc" id="L1200">                long diffy = Math.abs (fruitsy - wakaCentrey);</span>

<span class="fc bfc" id="L1202" title="All 8 branches covered.">                if (fruitsy &gt; wakaTop &amp;&amp; fruitsy &lt; wakaBottom </span>
                        &amp;&amp; wakaRight - fruitsx &gt;= 0 &amp;&amp; wakaRight - fruitsx &lt; 3) {

<span class="fc" id="L1205">                        fruits.removeFruits (fruitsListt.get (i), </span>
<span class="fc" id="L1206">                                                fruitsListt.get (i + 1), type);</span>
                }
        }
<span class="fc" id="L1209">}</span>


/**
 * This method calculates the centre coordinates of waka, and checks if it collides with any fruit in the fruits, and super fruits list when waka is trying to move right. 
 *  It decides whether to remove from fruits list, or super fruits list based on the type parameter. type parameter &quot;simple&quot; refers to simple fruits list,
 *  while &quot;super&quot; refers to super fruits list.
 * 
 * 
 * @param fruitsListt    List of fruits, or superfruits with which colliding needs to be checked.
 * @param type     String telling the type of fruit.
 */

public void isCollidingFruitsRight (ArrayList&lt;Integer&gt; fruitsListt, String type) {

<span class="fc bfc" id="L1224" title="All 2 branches covered.">        for (int i = 0; i &lt; fruitsListt.size () - 1; i += 2) {</span>

<span class="fc" id="L1226">                int fruitsx = fruitsListt.get (i) + 2;</span>
<span class="fc" id="L1227">                int fruitsy = fruitsListt.get (i + 1) + 2;</span>

<span class="fc" id="L1229">                long wakaTop = this.starty;</span>
<span class="fc" id="L1230">                long wakaBottom = this.starty + 16;</span>
<span class="fc" id="L1231">                long wakaLeft = this.startx;</span>
<span class="fc" id="L1232">                long wakaRight = this.startx + 16; </span>

<span class="fc" id="L1234">                long wakaCentrex = (wakaLeft + wakaRight) / 2;</span>
<span class="fc" id="L1235">                long wakaCentrey = (wakaTop + wakaBottom) / 2;</span>

<span class="fc" id="L1237">                long diffx = Math.abs (fruitsx - wakaCentrex);</span>
<span class="fc" id="L1238">                long diffy = Math.abs (fruitsy - wakaCentrey);</span>

<span class="fc bfc" id="L1240" title="All 8 branches covered.">                if (fruitsy &gt; wakaTop &amp;&amp; fruitsy &lt; wakaBottom </span>
                                &amp;&amp; fruitsx - wakaLeft &gt;= 0 &amp;&amp; fruitsx - wakaLeft &lt; 3) {
                        
<span class="fc" id="L1243">                                fruits.removeFruits (fruitsListt.get (i), </span>
<span class="fc" id="L1244">                                                        fruitsListt.get (i + 1), type);</span>
                }
        }
<span class="fc" id="L1247">}</span>


/**
 * This method calculates the centre coordinates of waka, and checks if it collides 
 * with any fruit in the fruits, and super fruits list when waka is trying to move 
 * downwards. 
 * It decides whether to remove from fruits list, or super fruits list based on the 
 * type parameter. type parameter &quot;simple&quot; refers to simple fruits list, while
 * &quot;super&quot; refers to super fruits list.
 * 
 * 
 * @param fruitsListt    List of fruits, or superfruits with which colliding needs to be checked.
 * @param type     String telling the type of fruit.
 */

public void isCollidingFruitsDown (ArrayList&lt;Integer&gt; fruitsListt, String type) {

<span class="fc bfc" id="L1265" title="All 2 branches covered.">        for (int i = 0; i &lt; fruitsListt.size () - 1; i += 2) {</span>

<span class="fc" id="L1267">                int fruitsx = fruitsListt.get (i) + 2;</span>
<span class="fc" id="L1268">                int fruitsy = fruitsListt.get (i + 1) + 2;</span>

<span class="fc" id="L1270">                long wakaTop = this.starty;</span>
<span class="fc" id="L1271">                long wakaBottom = this.starty + 16;</span>
<span class="fc" id="L1272">                long wakaLeft = this.startx;</span>
<span class="fc" id="L1273">                long wakaRight = this.startx + this.spirit.width;</span>

<span class="fc" id="L1275">                long wakaCentrex = (wakaLeft + wakaRight) / 2;</span>
<span class="fc" id="L1276">                long wakaCentrey = (wakaTop + wakaBottom) / 2;</span>

<span class="fc" id="L1278">                long diffx = Math.abs (fruitsx - wakaCentrex);</span>
<span class="fc" id="L1279">                long diffy = Math.abs (fruitsy - wakaCentrey);</span>

<span class="fc bfc" id="L1281" title="All 4 branches covered.">                if (fruitsx &gt; wakaLeft &amp;&amp; fruitsx &lt; wakaRight ) {</span>

<span class="fc bfc" id="L1283" title="All 4 branches covered.">                        if (wakaBottom - fruitsy &gt;= 0 &amp;&amp; wakaBottom - fruitsy &lt; 16) {</span>
<span class="fc" id="L1284">                                fruits.removeFruits (fruitsListt.get (i), </span>
<span class="fc" id="L1285">                                                        fruitsListt.get (i + 1), type);</span>
                        }

                }
        }
<span class="fc" id="L1290">}</span>


/**
 *  This method calculates the centre coordinates of waka, and checks if it collides 
 *  with any fruit in the fruits, and super fruits list when waka is trying to move upwards. 
 *  It decides whether to remove from fruits list, or super fruits list based on the 
 *  type parameter. type parameter &quot;simple&quot; refers to simple fruits list, while
 * &quot;super&quot; refers to super fruits list.
 * 
 * 
 * @param fruitsListt    List of fruits, or superfruits with which colliding needs to be checked.
 * @param type     String telling the type of fruit.
 */

public void isCollidingFruitsUp (ArrayList&lt;Integer&gt; fruitsListt, String type) {

<span class="fc bfc" id="L1307" title="All 2 branches covered.">        for (int i = 0; i &lt; fruitsListt.size () - 1; i += 2) {</span>

<span class="fc" id="L1309">                int fruitsx = fruitsListt.get (i) + 2;</span>
<span class="fc" id="L1310">                int fruitsy = fruitsListt.get (i + 1) + 2;</span>

<span class="fc" id="L1312">                long wakaTop = this.starty;</span>
<span class="fc" id="L1313">                long wakaBottom = this.starty + this.spirit.height;</span>
<span class="fc" id="L1314">                long wakaLeft = this.startx;</span>
<span class="fc" id="L1315">                long wakaRight = this.startx + this.spirit.width;</span>

<span class="fc" id="L1317">                long wakaCentrex = (wakaLeft + wakaRight) / 2;</span>
<span class="fc" id="L1318">                long wakaCentrey = (wakaTop + wakaBottom) / 2;</span>

<span class="fc" id="L1320">                long diffx = Math.abs (fruitsx - wakaCentrex);</span>
<span class="fc" id="L1321">                long diffy = Math.abs (fruitsy - wakaCentrey);</span>

<span class="fc bfc" id="L1323" title="All 4 branches covered.">                if (fruitsx &gt; wakaLeft &amp;&amp; fruitsx &lt; wakaRight ) {</span>

<span class="fc bfc" id="L1325" title="All 4 branches covered.">                        if (fruitsy - wakaTop &gt;= 0 &amp;&amp; fruitsy - wakaTop &lt; 16) {</span>
<span class="fc" id="L1326">                                fruits.removeFruits (fruitsListt.get (i), </span>
<span class="fc" id="L1327">                                                        fruitsListt.get (i + 1), type);</span>
                        }

                }
        }
<span class="fc" id="L1332">}</span>

/**
 *  This method changes the PImage of waka to closed.
 */

public void close () {
<span class="fc" id="L1339">        this.spirit = this.playerClosed;</span>
<span class="fc" id="L1340">}</span>


/**
 *  It is the draw method which is called sixty (frame rate) times per second.
 */

public void tick () {
<span class="fc" id="L1348">}</span>


/**
 *  It is the draw method which is called sixty (frame rate) times per second. 
 * It draws the image of waka on the screen at its position using the required PImage.
 * 
 * @param app PApplet app object.
 */


// Draw method.
public void draw (PApplet app) {

        // This loop draws waka based on the number of lives left, on the bottom 
        // left of the screen, below the game grid.
<span class="fc bfc" id="L1364" title="All 2 branches covered.">        for (long i = 0; i &lt; lives - 1; i++) {</span>
<span class="fc" id="L1365">                app.image (this.playerRight, 5 + i * 30, 548);</span>
        }

        // It draws the waka based on its position, using the PImage required for 
        // that case.
<span class="fc" id="L1370">        app.image (this.spirit, startx, starty);</span>
<span class="fc" id="L1371">}</span>

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>